<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>todoList 만들기</title>
<link rel="stylesheet" href="./css/todo.css">
</head>

<body>
  <div class="main_todo">
    <div class="title_todo">
      <span class="title_spans">할일 프롬프트</span>
    </div>
    <ul class="todo_add">
     <!-- <li class="todo_in">아
                <div class="basic">
                 <span>텍스트</span>
                 <button>수정</button>
                 <button>삭제</button>
               </div>
              <div class="modify">
                <input type="text">
                <button>완료</button>
                <button>취소</button>
              </div> 
            </li>-->
    </ul>
    <div class="todo_gro">
      <input type="text" class="todo_txt" id="todo_inp"  />
      <button type="button" id="btn">추가</button>
    </div>
  </div>

  <script>

    btn.addEventListener('click', list);

    const todo_add = document.querySelector('.todo_add');
    console.log(todo_add);

    function list() {
      const todo_in = document.createElement('li');
      const todo_span = document.createElement('span');
      const modifyBtn = document.createElement('button');
      const removeBtn = document.createElement('button');
      const inpu = document.createElement('input');
      inpu.classList.add("inputs");
      inpu.classList.add("todo_li_none");
      todo_in.classList.add('todo_in');
      todo_span.classList.add('spans');

      modifyBtn.classList.add('todo_icon1');
      removeBtn.classList.add('todo_icon2');

      

      todo_span.innerText = `${todo_inp.value}`;
      todo_inp.value = '';

      modifyBtn.innerText = '수정';
      removeBtn.innerText = 'X';
    
      
      todo_in.append(todo_span);
      todo_in.append(modifyBtn);
      todo_in.append(inpu);

      todo_in.append(removeBtn);
      todo_add.append(todo_in);

      modifyBtn.addEventListener('click', function(e){
        if(modifyBtn.innerText ==='수정'){
          modifyBtn.innerText = '완료';
          modify(e);
        }else if(modifyBtn.innerText ==='완료'){
          modifyBtn.innerText = '수정';
          modify2(e);
        }
      })
      removeBtn.addEventListener('click',remove);
    }
    
    
   
    function modify (e) {
      console.log(e.currentTarget.previousSibling);
      console.log(e.currentTarget.nextSibling);
    


      const in_class = document.querySelector('.inputs');
      const in_span = document.querySelector('.spans')

      e.currentTarget.nextSibling.classList.toggle('todo_li_acitve');
      e.currentTarget.nextSibling.classList.toggle('todo_li_none');

      e.currentTarget.previousSibling.classList.toggle('todo_li_none');

      e.currentTarget.nextSibling.value = e.currentTarget.previousSibling.innerText;
     }
     function modify2 (e) {
      const in_class = document.querySelector('.inputs');
      const in_span = document.querySelector('.spans')

      e.currentTarget.nextSibling.classList.toggle('todo_li_acitve');
      e.currentTarget.nextSibling.classList.toggle('todo_li_none');

      e.currentTarget.previousSibling.classList.toggle('todo_li_none');

    e.currentTarget.previousSibling.innerText =  e.currentTarget.nextSibling.value;  
    
     }


    //list 삭제 

     function remove(e) {
      console.log(e.target);
      if (this.innerText == 'X') {
        console.log(e.target);
        this.parentNode.remove();
      }
    };
  </script>
</body>

</html>
